{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./Purchases.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Purchases=()=>{const[purchases,setPurchases]=useState([]);const[newPurchase,setNewPurchase]=useState({asset:'',quantity:0,base:''});useEffect(()=>{fetchPurchases();},[]);const fetchPurchases=async()=>{const res=await axios.get('/api/purchases');setPurchases(res.data);};const handleSubmit=async e=>{e.preventDefault();await axios.post('/api/purchases',newPurchase);fetchPurchases();};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Purchases\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"mb-6 space-y-2\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Asset ID\",value:newPurchase.asset,onChange:e=>setNewPurchase({...newPurchase,asset:e.target.value})}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Quantity\",type:\"number\",value:newPurchase.quantity,onChange:e=>setNewPurchase({...newPurchase,quantity:e.target.value})}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Base ID\",value:newPurchase.base,onChange:e=>setNewPurchase({...newPurchase,base:e.target.value})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Purchase\"})]}),/*#__PURE__*/_jsx(\"ul\",{children:purchases.map(p=>/*#__PURE__*/_jsxs(\"li\",{children:[p.asset.name,\" - \",p.quantity,\" on \",new Date(p.date).toDateString()]},p._id))})]});};export default Purchases;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Purchases","purchases","setPurchases","newPurchase","setNewPurchase","asset","quantity","base","fetchPurchases","res","get","data","handleSubmit","e","preventDefault","post","className","children","onSubmit","placeholder","value","onChange","target","type","map","p","name","Date","date","toDateString","_id"],"sources":["C:/Users/jayad/Downloads/Military Asset Management System Project/frontend/src/pages/Purchases.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './Purchases.css';\r\nconst Purchases = () => {\r\n  const [purchases, setPurchases] = useState([]);\r\n  const [newPurchase, setNewPurchase] = useState({ asset: '', quantity: 0, base: '' });\r\n\r\n  useEffect(() => {\r\n    fetchPurchases();\r\n  }, []);\r\n\r\n  const fetchPurchases = async () => {\r\n    const res = await axios.get('/api/purchases');\r\n    setPurchases(res.data);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    await axios.post('/api/purchases', newPurchase);\r\n    fetchPurchases();\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4\">\r\n      <h2 className=\"text-xl font-bold mb-4\">Purchases</h2>\r\n      <form onSubmit={handleSubmit} className=\"mb-6 space-y-2\">\r\n        <input placeholder=\"Asset ID\" value={newPurchase.asset} onChange={(e) => setNewPurchase({ ...newPurchase, asset: e.target.value })} />\r\n        <input placeholder=\"Quantity\" type=\"number\" value={newPurchase.quantity} onChange={(e) => setNewPurchase({ ...newPurchase, quantity: e.target.value })} />\r\n        <input placeholder=\"Base ID\" value={newPurchase.base} onChange={(e) => setNewPurchase({ ...newPurchase, base: e.target.value })} />\r\n        <button type=\"submit\">Add Purchase</button>\r\n      </form>\r\n      <ul>\r\n        {purchases.map(p => (\r\n          <li key={p._id}>{p.asset.name} - {p.quantity} on {new Date(p.date).toDateString()}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Purchases;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACzB,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACU,WAAW,CAAEC,cAAc,CAAC,CAAGX,QAAQ,CAAC,CAAEY,KAAK,CAAE,EAAE,CAAEC,QAAQ,CAAE,CAAC,CAAEC,IAAI,CAAE,EAAG,CAAC,CAAC,CAEpFb,SAAS,CAAC,IAAM,CACdc,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAd,KAAK,CAACe,GAAG,CAAC,gBAAgB,CAAC,CAC7CR,YAAY,CAACO,GAAG,CAACE,IAAI,CAAC,CACxB,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,KAAM,CAAAnB,KAAK,CAACoB,IAAI,CAAC,gBAAgB,CAAEZ,WAAW,CAAC,CAC/CK,cAAc,CAAC,CAAC,CAClB,CAAC,CAED,mBACET,KAAA,QAAKiB,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBpB,IAAA,OAAImB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAC,WAAS,CAAI,CAAC,cACrDlB,KAAA,SAAMmB,QAAQ,CAAEN,YAAa,CAACI,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eACtDpB,IAAA,UAAOsB,WAAW,CAAC,UAAU,CAACC,KAAK,CAAEjB,WAAW,CAACE,KAAM,CAACgB,QAAQ,CAAGR,CAAC,EAAKT,cAAc,CAAC,CAAE,GAAGD,WAAW,CAAEE,KAAK,CAAEQ,CAAC,CAACS,MAAM,CAACF,KAAM,CAAC,CAAE,CAAE,CAAC,cACtIvB,IAAA,UAAOsB,WAAW,CAAC,UAAU,CAACI,IAAI,CAAC,QAAQ,CAACH,KAAK,CAAEjB,WAAW,CAACG,QAAS,CAACe,QAAQ,CAAGR,CAAC,EAAKT,cAAc,CAAC,CAAE,GAAGD,WAAW,CAAEG,QAAQ,CAAEO,CAAC,CAACS,MAAM,CAACF,KAAM,CAAC,CAAE,CAAE,CAAC,cAC1JvB,IAAA,UAAOsB,WAAW,CAAC,SAAS,CAACC,KAAK,CAAEjB,WAAW,CAACI,IAAK,CAACc,QAAQ,CAAGR,CAAC,EAAKT,cAAc,CAAC,CAAE,GAAGD,WAAW,CAAEI,IAAI,CAAEM,CAAC,CAACS,MAAM,CAACF,KAAM,CAAC,CAAE,CAAE,CAAC,cACnIvB,IAAA,WAAQ0B,IAAI,CAAC,QAAQ,CAAAN,QAAA,CAAC,cAAY,CAAQ,CAAC,EACvC,CAAC,cACPpB,IAAA,OAAAoB,QAAA,CACGhB,SAAS,CAACuB,GAAG,CAACC,CAAC,eACd1B,KAAA,OAAAkB,QAAA,EAAiBQ,CAAC,CAACpB,KAAK,CAACqB,IAAI,CAAC,KAAG,CAACD,CAAC,CAACnB,QAAQ,CAAC,MAAI,CAAC,GAAI,CAAAqB,IAAI,CAACF,CAAC,CAACG,IAAI,CAAC,CAACC,YAAY,CAAC,CAAC,GAAxEJ,CAAC,CAACK,GAA2E,CACvF,CAAC,CACA,CAAC,EACF,CAAC,CAEV,CAAC,CAED,cAAe,CAAA9B,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}